# SPICE网表随机生成程序

## 编译、运行方法
本项目由 C 语言编写，运行环境为 Linux 系统。实验中采取的编译及运行方式为：

```sh
gcc -o generation generation.cpp
./generation
```

（在编译过程中无须传入文件名等，可直接运行）

## 依赖
本项目并无使用特殊库，仅需要 C 语言的基本库：
- `stdlib.h`
- `stdio.h`
- `string.h`
- `time.h`

## 代码说明

### 功能
本代码的功能是，在满足以下三个限制条件的情况下，随机生成 SPICE 网表：
- 短路数目
- 独立电路个数
- 是否开路

网表由给定数目的 **电压源**、**电流源**、**电阻**、**电容**、**电感** 组成，并符合所有规定条件。

### 文件说明
| 文件名 | 说明 |
|--------|------|
| `readme.md` | 解释性文件 |
| `generation.cpp` | 网表生成代码 |
| `netlistConfig` | 电路要求文件（输入） |
| `netlistDump_withoutShort` | 代码的中间临时文件（未考虑短路的网表） |
| `netlistDump.sp` | SPICE 网表文件（输出） |
| `generation` | `generation.cpp` 的编译文件 |
| `validation.cpp` | 验证代码 |
| `validation` | `validation.cpp` 的编译文件 |

### 实现逻辑
1. **默认条件：** 设定 `nLoop=1`，无短路与开路的特殊情况，将器件数目转换为 1 个独立电路。生成逻辑为：
   - 先让 **R、C、L** 连接成完整的环路。
   - 再利用现有节点接入 **电流源** 和 **电压源**。
   
2. **考虑短路及开路情况：** 依旧保持 `nLoop=1`，但增加对 **电源短路** 及 **开路** 的处理。

3. **支持多环路 (`nLoop`)：** 
   - 在构造函数中分配不同环路的器件。
   - 确保每个独立电路符合设定的限制条件。